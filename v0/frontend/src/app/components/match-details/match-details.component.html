<div class="container" >
  <!-- SECTION 1 -->
  <div class = "page-header">
    <h2>Scorecard</h2>
    <div class = "jumbotron">
      <h4>Innings 1</h4>
      <table class="table">
          <thead>
              <tr>
                  <th scope = "col">Batsman</th>
                  <th scope = "col">Runs</th>
                  <th scope = "col">Fours</th>
                  <th scope = "col"> Sixes</th>
                  <th scope = "col">Balls faced</th>
              </tr>
          </thead>
          <tbody>    
              <tr
              *ngFor="let batsman of batsmenInnings1; let i = index"
              (click)="redirectPlayer(batsman.player_id)"
              onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
              onmouseout="this.style.background='white';"
              >
              <!-- [class.active]="i == currentIndex"
              (click)="setActiveMatch(i)"
              (dblclick)="redirectMatch(match.match_id)" -->
                  <th scope = "row">{{ batsman?.player_name }}</th>
                  <td>{{ batsman?.runs }}</td>
                  <td>{{ batsman?.fours }}</td>
                  <td>{{ batsman?.sixes }}</td>
                  <td>{{ batsman?.balls }}</td>
              </tr>
          </tbody>
      </table>
      <table class="table">
        <thead>
          <tr>
            <th>Extras</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody>    
            <tr *ngFor="let innings of totalInnings1; let i = index">
                <td>{{ innings?.extra_runs }}</td>
                <td>{{ innings?.tot_runs }}</td>
            </tr>
        </tbody>
    </table>
    <table class="table">
      <thead>
        <tr>
            <th scope = "col">Bowler</th>
            <th scope = "col">Balls bowled</th>
            <th scope = "col">Runs given</th>
            <th scope = "col">Wickets taken</th>
        </tr>
      </thead>
      <tbody>    
          <tr
          *ngFor="let bowler of bowlersInnings1; let i = index"
          (click)="redirectPlayer(bowler.player_id)"
          onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
          onmouseout="this.style.background='white';"
          >
              <th scope = "row">{{ bowler?.player_name }}</th>
              <td>{{ bowler?.balls }}</td>
              <td>{{ bowler?.runs }}</td>
              <td>{{ bowler?.wickets }}</td>
          </tr>
      </tbody>
    </table>
    
  </div>
  <div class = "jumbotron">
    <h4>Innings 2</h4>
    <table class="table">
        <thead>
            <tr>
                <th scope = "col">Batsman</th>
                <th scope = "col">Runs</th>
                <th scope = "col">Fours</th>
                <th scope = "col"> Sixes</th>
                <th scope = "col">Balls faced</th>
            </tr>
        </thead>
        <tbody>    
            <tr
            *ngFor="let batsman of batsmenInnings2; let i = index"
            (click)="redirectPlayer(batsman.player_id)"
            onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
            onmouseout="this.style.background='white';"
            >
            <!-- [class.active]="i == currentIndex"
            (click)="setActiveMatch(i)"
            (dblclick)="redirectMatch(match.match_id)" -->
                <th scope = "row">{{ batsman?.player_name }}</th>
                <td>{{ batsman?.runs }}</td>
                <td>{{ batsman?.fours }}</td>
                <td>{{ batsman?.sixes }}</td>
                <td>{{ batsman?.balls }}</td>
            </tr>
        </tbody>
    </table>
    <table class="table">
      <thead>
        <tr>
          <th>Extras</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>    
          <tr *ngFor="let innings of totalInnings2; let i = index">
              <td>{{ innings?.extra_runs }}</td>
              <td>{{ innings?.tot_runs }}</td>
          </tr>
      </tbody>
    </table>
    <table class="table">
      <thead>
        <tr>
            <th scope = "col">Bowler</th>
            <th scope = "col">Balls bowled</th>
            <th scope = "col">Runs given</th>
            <th scope = "col">Wickets taken</th>
        </tr>
      </thead>
      <tbody>    
          <tr
          *ngFor="let bowler of bowlersInnings2; let i = index"
          (click)="redirectPlayer(bowler.player_id)"
          onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
          onmouseout="this.style.background='white';"
          >
              <th scope = "row">{{ bowler?.player_name }}</th>
              <td>{{ bowler?.balls }}</td>
              <td>{{ bowler?.runs }}</td>
              <td>{{ bowler?.wickets }}</td>
          </tr>
      </tbody>
    </table>
    </div>
    
    <div class = "jumbotron">
      <h2>Match {{ matchInfo?.match_info.match_id }} info</h2>
      <hr>
      <div class = "container">
          <b>{{ matchInfo?.match_info.team1 }}</b> vs <b>{{ matchInfo?.match_info.team2 }}</b> 
          in <b>{{ matchInfo?.match_info.season_year }}</b> 
          at <b>{{ matchInfo?.match_info.stadium_name }}, {{ matchInfo?.match_info.city_name }}</b><br>
          <b>{{ matchInfo?.match_info.toss_winner }}</b> won the toss and chose to <b>{{ matchInfo?.match_info.toss_name }}</b>
      </div>
      <hr>
      <div class = "flex-row justify-content-around">
        <div class= "d-2 col">
          <!-- Players table -->
          <table class = "table">
            <thead>
              <tr>
                <th>Players in {{ matchInfo?.match_info.team1 }}</th>
                <th>Players in {{ matchInfo?.match_info.team2 }} </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let i of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]">
                <td (click)="redirectPlayer(matchInfo.players1[i].player_id)"
                >{{ matchInfo?.players1[i].player_name }}</td>
                <td (click)="redirectPlayer(matchInfo.players2[i].player_id)"
                >{{ matchInfo?.players2[i].player_name }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- Umpires table -->
        <div class= "d-2 col">
          <table class = "table">
            <thead>
              <tr>
                <th>Umpires in the match</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let i of [0, 1, 2]">
                <td>{{ matchInfo?.umpires[i].umpire_name }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- SECTION 2 -->
    <div class = "page-header">
      <h2>Score Comparison</h2>  
      <div class = "jumbotron col-md-12">
        <canvas id="BallByBallChart" width="500"> </canvas>
      </div>
    </div>

    <!-- SECTION 3 -->
    <div class = "page-header">
      <h2>Match Summary</h2> 
      <div class = "d-flex flex-column d-sm-flex flex-sm-row justify-content-between">  
        <!--  -->
        <!-- match info -->
        <!--  --> 
        <div class = "jumbotron p-2 flex-grow container" style="margin-right: 10px;">
          
          <div class="d-flex flex-row">
            <h5>{{ matchInfo?.match_info.match_id }} IPL {{ matchInfo?.match_info.season_year }}</h5>
          </div>
          <hr>
          <!-- INNINGS 1 -->
          <table class = "table table-sm">
            <thead>
              <tr class="" *ngFor="let innings of totalInnings1; let i = index">
                <td class = ""><b>{{ battingTeamInnings1 }}</b></td>
                <td class = "">{{ oversInnings1 }}</td>
                <td class = "">{{ innings?.tot_runs }} / {{ innings?.tot_wickets }}</td>
              </tr>
            </thead>
          </table>
          <div class="d-flex flex-row">
            <table class = "table table-sm border">
              <thead>
                <tr>
                  <th>Batsman</th>
                  <th>Runs</th>
                  <th>Balls</th>
                </tr>
              </thead>
              <tbody>
                <tr 
              *ngFor="let p of bestInnings1batsmen; let i = index"
              (click)="redirectPlayer(p.player_id)"
              onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
              onmouseout="this.style.background='white';"
              >
                  <td class = "">{{ p?.batsman1 }}</td>
                  <td class = "text-right"><b>{{ p?.runs }}</b> </td> 
                  <td class = ""> {{ p?.balls }}</td>
                </tr>
              </tbody>
            </table>
            <table class = "table table-sm border">
              <thead>
                <tr>
                  <th>Bowler</th>
                  <th>Wickets</th>
                  <th>Runs</th>
                  <th>Balls</th>
                </tr>
              </thead>
              <tbody>
                <tr 
              *ngFor="let p of bestInnings1bowlers; let i = index"
              (click)="redirectPlayer(p.player_id)"
              onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
              onmouseout="this.style.background='white';"
              >
                  <td class = "">{{ p?.bowler1 }}</td>
                  <td class = "text-right"><b>{{ p?.wickets }}</b></td> 
                  <td class = ""> {{ p?.runs }}</td>
                  <td class = "text-secondary"> <small>{{ p?.balls }}</small></td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <!-- INNINGS 2 -->
          <table class = "table table-sm">
            <thead>
              <tr class="" *ngFor="let innings of totalInnings2; let i = index">
                <td class = ""><b>{{ battingTeamInnings2 }}</b></td>
                <td class = "">{{ oversInnings2 }}</td>
                <td class = "">{{ innings?.tot_runs }} / {{ innings?.tot_wickets }}</td>
              </tr>
            </thead>
          </table>
          <div class="d-flex flex-row">
            <table class = "table table-sm border">
              <thead>
                <tr>
                  <th>Batsman</th>
                  <th>Runs</th>
                  <th>Balls</th>
                </tr>
              </thead>
              <tbody>
                <tr 
              *ngFor="let p of bestInnings2batsmen; let i = index"
              (click)="redirectPlayer(p.player_id)"
              onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
              onmouseout="this.style.background='white';"
              >
                  <td class = "">{{ p?.batsman2 }}</td>
                  <td class = "text-right"><b>{{ p?.runs }}</b> </td> 
                  <td class = ""> {{ p?.balls }}</td>
                </tr>
              </tbody>
            </table>
            <table class = "table table-sm border">
              <thead>
                <tr>
                  <th>Bowler</th>
                  <th>Wickets</th>
                  <th>Runs</th>
                  <th>Balls</th>
                </tr>
              </thead>
              <tbody>
                <tr 
              *ngFor="let p of bestInnings2bowlers; let i = index"
              (click)="redirectPlayer(p.player_id)"
              onmouseover="this.style.background='linear-gradient(45deg, rgba(29, 236, 197, 0.5), rgba(91, 14, 214, 0.5))';"
              onmouseout="this.style.background='white';"
              >
                  <td class = "">{{ p?.bowler2 }}</td>
                  <td class = "text-right"><b>{{ p?.wickets }}</b></td> 
                  <td class = ""> {{ p?.runs }}</td>
                  <td class = "text-secondary"> <small>{{ p?.balls }}</small></td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class = "container">
            <h6>
              <b>{{ matchInfo?.match_info.match_winner }}</b> won by {{ matchInfo?.match_info.win_margin }} {{ matchInfo?.match_info.win_type }} 
            </h6>
          </div>
        </div>

        <!--  -->
        <!-- PIE CHART -->
        <!--  -->
        <div class = "jumbotron p-2 container">
          <h2>Runs Distribution</h2><br>
          <div [hidden]="!innings1Plot"> 
            <h4>Innings 1</h4>
            <canvas id="Innings1Chart"> </canvas>
          </div>
          <div [hidden]="innings1Plot" class = "container">
            <h4>Innings 2</h4>
            <canvas id="Innings2Chart"> </canvas>
          </div> 
          <br>
          <div class = "d-flex flex-row justify-content-between">
            <button type = "button" (click) = "innings1Plot = true;" class = "p-2 btn btn-primary"> Innings 1 </button>   
            <button type = "button" (click) = "innings1Plot = false;" class = "p-2 btn btn-primary"> Innings 2 </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
